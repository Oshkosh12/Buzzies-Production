<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <title>BUZZIEZ</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
  <style>
    @font-face {
      font-family: 'Buzziez';
      src: url('assets/fonts/11zon_FerganaDemo-Bold.woff2') format('woff2'),
        url('assets/fonts/11zon_11zon_FerganaDemo-Bold.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Buzziez-menu';
      src: url('assets/fonts/11zon_GT-Walsheim-Thin-Trial-BF651b7fc728c4c.woff2') format('woff2'),
        url('assets/fonts/11zon_11zon_GT-Walsheim-Thin-Trial-BF651b7fc728c4c.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    html,
    body {
      height: 100vh;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      background-color: #CDDC39;
      font-family: 'Buzziez', sans-serif;
      overflow: hidden;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0rem 1.5rem;
      border-bottom: 1px solid #1b00b2;
      min-height: 85px;
      height: 85px;
      padding-right: 0 !important;
    }

    .main-logo {
      color: #1b00b2;
      font-size: 2.2rem;
      font-weight: bold;
      gap: 0;
      display: flex;
    }

    nav {
      display: flex;
      align-items: stretch;
      height: 100%;
    }

    nav a {
      padding: 0.5rem 1rem;
      margin-left: 0.5rem;
      text-decoration: none;
      color: #1b00b2;
      font-size: 1rem;
      font-family: 'Buzziez-menu';
      font-weight: 700;
    }

    .hero {
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100vw;
    }

    .hero h1 {
      font-size: 9.375rem;
      color: #1b00b2;
      letter-spacing: 5px;
      margin: 0 !important;
    }

    .hero button {
      padding: .9375rem 7.5rem;
      border: 1px solid #1b00b2;
      background: transparent;
      color: #1b00b2;
      font-size: 1.2rem;
      cursor: pointer;
      margin-top: 80px;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: -1;
    }

    .nav-link {
      display: flex;
      align-items: center;
      border-left: 1px solid #1b00b2;
      border-right: none;
      padding: 0 1.9rem;
      margin-left: -1px;
      /* collapse borders */
      text-decoration: none;
      color: #1b00b2;
      font-size: 1rem;
      height: 85px;
      /* Match header height */
      box-sizing: border-box;
    }

    .nav-link:last-child {
      border-right: 1px solid #1b00b2;
    }

    a.nav-link:hover {
      background-color: #1b00b2;
      color: white;
    }

    a.nav-link:hover .instagram-icon rect,
    a.nav-link:hover .instagram-icon circle {
      stroke: white !important;
    }

    a.nav-link:hover .instagram-icon circle[fill="#1b00b2"] {
      fill: white !important;
    }

    button#startButton:hover {
      background-color: #1b00b2;
      color: white;
    }

    a.nav-link:hover .instagram-icon rect,
    a.nav-link:hover .instagram-icon circle {
      stroke: #fff !important;
    }

    a.nav-link:hover .instagram-icon circle[fill="#1b00b2"] {
      fill: #fff !important;
    }

    .home__hero-title {
      gap: 0px;
      /* minimal spacing */
      animation: pulseEffect 5s ease-in-out infinite;
      display: flex !important;
      justify-content: center !important;
    }

    .home__hero-use,
    .home__hero-less {
      display: inline-block;
    }

    .home__hero-use {
      animation: stretchLeft 4s ease-in-out infinite;
    }

    .home__hero-less {
      animation: stretchRight 4s ease-in-out infinite;
    }

    /* Stretch Left */
    @keyframes stretchLeft {
      0% {
        transform: translateX(0);
      }

      10% {
        transform: translateX(-12%);
      }

      60% {
        transform: translateX(-12%);
      }

      70% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(0);
      }
    }

    /* Stretch Right */
    @keyframes stretchRight {
      0% {
        transform: translateX(0);
      }

      10% {
        transform: translateX(12%);
      }

      60% {
        transform: translateX(12%);
      }

      70% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(0);
      }
    }

    a.main-logo {
      text-decoration: none;
    }

    .main-logo span {
      display: inline-block;
      /* No animation by default */
      animation: none;
      transform: translateX(0);
      transition: transform 0.1s cubic-bezier(0.4, 0, 1, 1);
      /* smooth in-out */
      cursor: pointer;
    }

    .main-logo:hover .left {
      transform: translateX(-12%);
    }

    .main-logo:hover .right {
      transform: translateX(12%);
    }

    /* Stretch Left */
    @keyframes stretchLeft {
      0% {
        transform: translateX(0);
      }

      10% {
        transform: translateX(-12%);
      }

      60% {
        transform: translateX(-12%);
      }

      70% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(0);
      }
    }

    /* Stretch Right */
    @keyframes stretchRight {
      0% {
        transform: translateX(0);
      }

      10% {
        transform: translateX(12%);
      }

      60% {
        transform: translateX(12%);
      }

      70% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(0);
      }
    }
  </style>
</head>

<body>

  <header>
    <a href="/" <h1 class="main-logo">
      <span class="left">BUZZ</span>
      <span class="right">IEZ</span>
      </h1> </a>
    <nav>
      <a href="#" class="nav-link">Map</a>
      <a href="#" class="nav-link">Online</a>
      <a href="#" class="nav-link">Kit</a>
      <a href="#" class="nav-link">Why</a>
      <a href="#" class="nav-link">Submit</a>
      <a href="#" class="nav-link" aria-label="Instagram">
        <svg class="instagram-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"
          fill="none">
          <rect x="6" y="6" width="16" height="16" rx="5" stroke="#1b00b2" stroke-width="2" fill="none" />
          <circle cx="14" cy="14" r="4" stroke="#1b00b2" stroke-width="2" fill="none" />
          <circle cx="19.2" cy="8.8" r="1.2" fill="#1b00b2" />
        </svg>
      </a>
    </nav>
  </header>

  <div class="hero">
    <h1 class="home__hero-title">
      <span class="home__hero-use">BUZZ</span>
      <span class="home__hero-less">IEZ</span>
    </h1>
    <button id="startButton" class="btn-15">Let's go!</button>
  </div>

  <canvas id="world"></canvas>

  <script>
    const { Engine, Render, World, Bodies, Runner, Events } = Matter;

    // Create engine and world
    const engine = Engine.create();
    const world = engine.world;

    // Setup canvas
    const canvas = document.getElementById("world");
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      if (render) {
        render.options.width = window.innerWidth;
        render.options.height = window.innerHeight;
        render.canvas.width = window.innerWidth;
        render.canvas.height = window.innerHeight;
      }
    }
    resizeCanvas();

    // Create renderer
    const render = Render.create({
      canvas: canvas,
      engine: engine,
      options: {
        width: window.innerWidth,
        height: window.innerHeight,
        background: 'transparent',
        wireframes: false,
      }
    });

    Render.run(render);
    const runner = Runner.create();
    Runner.run(runner, engine);

    // Add ground so cups don't fall forever
    const ground = Bodies.rectangle(window.innerWidth / 2, window.innerHeight + 40, window.innerWidth, 80, {
      isStatic: true,
      render: { visible: false }
    });
    World.add(world, ground);

    let cupCount = 0;
    const maxCups = 20;
    let intervalId = null;

    function spawnCup() {
      if (cupCount >= maxCups) {
        cupCount = 0;
      }
      const side = cupCount % 2 === 0 ? 100 : window.innerWidth - 100;
      const size = 50;

      const cup = Bodies.rectangle(side, -100, size, size, {
        render: {
          sprite: {
            texture: 'assets/images/AdobeStock_281545854-scaled-removebg-preview.png',
            xScale: 0.2,
            yScale: 0.2
          }
        },
        friction: 0.001,
        restitution: 0.4
      });

      World.add(world, cup);
      cupCount++;
    }

    function startCups() {
      if (intervalId !== null) return;
      spawnCup(); // spawn one immediately
      intervalId = setInterval(spawnCup, 1000);
    }

    document.getElementById("startButton").addEventListener("click", startCups);

    // Remove offscreen cups
    Events.on(engine, "afterUpdate", () => {
      world.bodies.forEach(body => {
        if (!body.isStatic && body.position.y > window.innerHeight + 200) {
          World.remove(world, body);
        }
      });
    });

    window.addEventListener('resize', () => {
      resizeCanvas();
      Matter.Body.setPosition(ground, { x: window.innerWidth / 2, y: window.innerHeight + 40 });
      Matter.Body.setVertices(ground, [
        { x: 0, y: window.innerHeight },
        { x: window.innerWidth, y: window.innerHeight },
        { x: window.innerWidth, y: window.innerHeight + 80 },
        { x: 0, y: window.innerHeight + 80 }
      ]);
    });
  </script>

</body>

</html>